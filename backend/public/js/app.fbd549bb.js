(function(t){function e(e){for(var s,a,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],s=!0,o=1;o<r.length;o++){var c=r[o];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=a(a.s=r[0]))}return t}var s={},i={app:0},n=[];function a(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=s,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(r,s,function(e){return t[e]}.bind(null,s));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1:function(t,e){},"50b5":function(t,e,r){"use strict";var s=r("fe0e"),i=r.n(s);i.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("div",{staticClass:"screen"},[r("App-Header"),r("v-content",[r("router-view"),r("App-Footer")],1)],1)])},n=[],a=(r("d3b7"),r("96cf"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"header-container flex center space-between"},[r("router-link",{staticClass:"route header-route header-logo",attrs:{to:"/"},nativeOn:{click:function(e){return t.resetNavBar()}}},[t._v("Tripi")]),r("div",{staticClass:"navbar flex row center",class:t.openMenu},[r("i",{staticClass:"menu-icon fas fa-times",on:{click:t.toggleMenu}}),r("router-link",{staticClass:"route header-route",attrs:{to:"/"},nativeOn:{click:function(e){return t.resetNavBar()}}},[t._v("Trips "),r("i",{staticClass:"arrow fas fa-arrow-circle-right"})]),r("router-link",{staticClass:"route header-route",attrs:{to:"/about"},nativeOn:{click:function(e){return t.setNavBar()}}},[t._v("About "),r("i",{staticClass:"arrow fas fa-arrow-circle-right"})]),r("v-spacer"),r("div",{staticClass:"header-user"},[r("router-link",{staticClass:"route signup header-route",attrs:{to:"/signup"},nativeOn:{click:function(e){return t.setNavBar()}}},[t._v("Sign up "),r("i",{staticClass:"arrow fas fa-arrow-circle-right"})]),t.isUserLogIn?r("div",{staticClass:"route login header-route",on:{click:t.doLogOut}},[t._v("Logout "),r("i",{staticClass:"arrow fas fa-arrow-circle-right"})]):r("div",{staticClass:"route login header-route",on:{click:t.toggleLogin}},[t._v("Login "),r("i",{staticClass:"arrow fas fa-arrow-circle-right"})]),t.isShowLogin?r("login-box",{on:{close:t.closeLogin}}):t._e()],1)],1),r("div",{staticClass:"menu-box-mobile"},[r("img",{directives:[{name:"show",rawName:"v-show",value:t.isUserLogIn,expression:"isUserLogIn"}],staticClass:"logIn-user-img",attrs:{src:t.userImg},on:{click:t.toggleSideBar}}),r("button",{staticClass:"menu-btn",on:{click:t.toggleMenu}},[r("i",{staticClass:"fas fa-bars fa-lg"})])]),r("userDrawer",{directives:[{name:"show",rawName:"v-show",value:t.isUserLogIn,expression:"isUserLogIn"}],class:t.openDrawer,on:{sideBar:t.closeSideBar}})],1)}),o=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"login-container flex column center"},[r("div",{staticClass:"log flex row center space-between"},[r("span",[t._v("Login")]),r("button",{attrs:{title:"Exit"},on:{click:t.closeLogin}},[r("i",{staticClass:"fas fa-times"})])]),r("form",{staticClass:"flex column",on:{submit:function(e){return e.preventDefault(),t.doLogin(e)}}},[r("div",{staticClass:"flex center login-input"},[r("i",{staticClass:"fas fa-lock"}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.email,expression:"loginCred.email"}],attrs:{id:"name",type:"text",placeholder:"Your Email"},domProps:{value:t.loginCred.email},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"email",e.target.value)}}})]),r("div",{staticClass:"flex center login-input"},[r("i",{staticClass:"fas fa-users"}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.password,expression:"loginCred.password"}],attrs:{id:"pass",type:"password",placeholder:"Your Password"},domProps:{value:t.loginCred.password},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"password",e.target.value)}}})]),t._m(0),r("button",{staticClass:"login-box-btn"},[t._v("Login")]),r("div",[t._v(" Not Registered yet ? "),r("router-link",{staticClass:"header-route login-box-route",attrs:{to:"/signup"}},[t._v("Sign up")])],1)])])},u=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v(" Forget password? Press "),r("span",{staticClass:"forget-pass"},[t._v("Here")])])}],l={data:function(){return{loginCred:{}}},methods:{closeLogin:function(){this.$emit("close",!1)},doLogin:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.loginCred,e.next=3,regeneratorRuntime.awrap(this.$store.dispatch("login",t));case 3:this.loginCred={};case 4:case"end":return e.stop()}}),null,this)}}},p=l,d=r("2877"),f=Object(d["a"])(p,c,u,!1,null,null,null),g=f.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"drawer flex column center"},[t.user?r("div",{staticClass:"drawer-header"},[r("div",{staticClass:"intro flex row center space-between"},[r("span",[t._v("Welcome Back")]),r("i",{staticClass:"fas fa-times",on:{click:t.toggleSideBar}})]),r("div",{staticClass:"personal-details flex row center space-between"},[r("img",{staticClass:"logIn-user-img",attrs:{src:t.user.imgUrl}}),r("div",{staticClass:"flex column"},[r("span",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))]),r("span",[t._v(t._s(t.user.email))])])])]):t._e(),t._m(0),r("i",{staticClass:"fas fa-user-cog user-settings"})])},h=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"drawer-body flex column align-start justify-start"},[r("div",[r("i",{staticClass:"fas fa-home"}),t._v(" Profile")]),r("div",[r("i",{staticClass:"fas fa-suitcase-rolling"}),t._v(" My Trips")]),r("div",[r("i",{staticClass:"fas fa-plus"}),t._v(" Create Trip")]),r("div",[r("i",{staticClass:"fas fa-users"}),t._v(" Friends")])])}],v={computed:{user:function(){return this.$store.getters.loggedinUser}},methods:{toggleSideBar:function(){this.$emit("sideBar",!1)}}},C=v,_=Object(d["a"])(C,m,h,!1,null,null,null),w=_.exports,b={data:function(){return{isShowLogin:!1,isOpenSideBar:!1,isOpenMenu:!1,userImg:""}},methods:{toggleLogin:function(){this.isShowLogin=!this.isShowLogin},setImg:function(t){this.userImg=t.imgUrl},doLogOut:function(){this.$store.dispatch({type:"logOut"}),this.isOpenSideBar=!1},closeLogin:function(){this.isShowLogin=!1},toggleSideBar:function(){this.isOpenSideBar=!this.isOpenSideBar},toggleMenu:function(){this.isOpenMenu=!this.isOpenMenu},closeSideBar:function(){this.isOpenSideBar=!1},setNavBar:function(){document.querySelector(".header-container").classList.add("restAppNavbar")},resetNavBar:function(){document.querySelector(".header-container").classList.remove("restAppNavbar")}},computed:{isUserLogIn:function(){var t=this.$store.getters.loggedinUser;return t&&this.setImg(t),t},openDrawer:function(){return{"drawer-open":this.isOpenSideBar}},openMenu:function(){return{"menu-open":this.isOpenMenu}}},components:{loginBox:g,userDrawer:w}},x=b,y=r("6544"),T=r.n(y),U=r("2fa4"),k=Object(d["a"])(x,a,o,!1,null,null,null),S=k.exports;T()(k,{VSpacer:U["a"]});var $=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-footer",{staticClass:"footer",attrs:{light:"",padless:""}},[r("v-card",{staticClass:" --text text-center flex column center",attrs:{flat:"",tile:"",color:"white",dense:"",dark:""}},[r("v-card-text",t._l(t.icons,(function(e){return r("v-btn",{key:e,staticClass:"mx-4 white--text",attrs:{icon:""}},[r("v-icon",{staticClass:"grey darken-1",attrs:{size:"24px"}},[t._v(t._s(e))])],1)})),1),r("v-card-text",{staticClass:"black--text pt-0"}),r("v-divider"),r("v-card-text",{staticClass:"grey lighten-5--text"},[t._v(" "+t._s((new Date).getFullYear())+" â€” "),r("strong",[t._v("Elior & Eyal")])])],1)],1)},R=[],O={data:function(){return{icons:["fab fa-facebook","fab fa-twitter","fab fa-google-plus","fab fa-linkedin","fab fa-instagram"]}}},N=O,I=r("8336"),D=r("b0af"),j=r("99d9"),L=r("ce7e"),M=r("553a"),P=r("132d"),E=Object(d["a"])(N,$,R,!1,null,null,null),A=E.exports;T()(E,{VBtn:I["a"],VCard:D["a"],VCardText:j["c"],VDivider:L["a"],VFooter:M["a"],VIcon:P["a"]});var B={name:"App",components:{AppHeader:S,AppFooter:A},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}))},data:function(){return{}}},J=B,V=r("7496"),q=r("a75b"),F=Object(d["a"])(J,i,n,!1,null,null,null),W=F.exports;T()(F,{VApp:V["a"],VContent:q["a"]});var Y=r("9483");Object(Y["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var z=r("8c4f"),G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"home"},[t._m(0),r("section",{staticClass:"top-rated"},[r("h2",[t._v("Trending Trips")]),r("ul",{staticClass:"top-rated-list clean-list flex row center wrap"},t._l(t.tripsRecommended,(function(e){return r("Trip-recommended",{key:e._id,attrs:{trip:e,users:t.users}})})),1)]),r("section",{staticClass:"home-main"},[r("h2",[t._v("Find Your Next Adventure")]),r("Trip-list")],1)])},H=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"home-top-header flex column center"},[r("div",{staticClass:"search-box flex column center"},[r("h1",[t._v("Plan Your Trip Together")]),r("h3",[t._v("Find Co-Travelers like yourself to plan your next Adventure")]),r("div",{staticClass:"search-box"},[r("input",{staticClass:"destination",attrs:{type:"search",placeholder:"Choose Destination"}}),r("button",[r("i",{staticClass:"hero-icon fas fa-search-location fa-lg"})])])])])}],K=(r("fb6a"),r("4e827"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"cards-container container-home"},t._l(t.tripsToShow,(function(e){return r("trip-preview",{key:e._id,attrs:{currTrip:e,users:t.users}})})),1)}),Q=[],X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"card",attrs:{"data-aos":"fade-right","data-aos-duration":"1000","data-aos-easing":"ease-in-out","data-aos-once":"true"},on:{click:function(e){return t.showDetails()}}},[r("v-card",{staticClass:"mx-auto flex column space-between",attrs:{"max-width":"300",height:"450",flat:"",hover:"",light:""}},[r("v-img",{staticClass:"white--text align-end",attrs:{"max-height":"200px","min-height":"200px",src:t.currTrip.imgUrl[0]}},[r("v-card-title",{staticClass:"flex row space-between"},[r("span",[t._v(t._s(t._f("capitalize")(t.currTrip.section)))]),r("span",{on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleLike()}}},[r("i",{staticClass:"fas fa-heart",class:t.like})])])],1),r("div",{staticClass:"card-header flex column no-wrap"},[r("div",{staticClass:"card-creator-details flex row align-center"},[r("v-list-item-avatar",{attrs:{color:"grey"}},[r("v-img",{attrs:{src:t.user.imgUrl}})],1),r("v-card-subtitle",{},[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))])],1),r("div",{staticClass:"card-subtitle flex row space-between"},[r("h5",{staticClass:"card-title"},[t._v(t._s(t._f("snippetTitle")(t.currTrip.title)))]),r("h5",{staticClass:"card-date"},[t._v(t._s(t.getDateStart))])])]),r("v-card-text",{staticClass:"card-text text--primary"},[t._v(t._s(t._f("snippet")(t.currTrip.desc)))]),r("v-card-actions",{staticClass:"card-footer flex space-between"},[r("div",{staticClass:"card-memebers"},[t._l(t.memebers,(function(t){return r("v-list-item-avatar",{key:t._id,staticClass:"memeber-list-avatar ma-0 mr-1",attrs:{color:"grey",size:"20"}},[r("v-img",{attrs:{src:t.imgUrl}})],1)})),t.checkMemebersCount?r("span",[t._v("Be First To Join!")]):t._e()],2),r("div",{staticClass:"participants"},[t._v(t._s(t.currTrip.memebers.length)+" / "+t._s(t.currTrip.maxCapacity))]),r("div",{staticClass:"card-memebers-rating"},[t._v(" "+t._s(t.currTrip.rating)+" "),r("i",{staticClass:"fas fa-star star"})])])],1)],1)},Z=[],tt=(r("99af"),r("7db0"),r("d81d"),r("0d03"),r("ac1f"),r("1276"),r("3835")),et={props:["currTrip","users"],data:function(){return{isLiked:!1}},methods:{showDetails:function(){this.$router.push("/trips/details/".concat(this.currTrip._id)),this.setNavbar()},toggleLike:function(){this.isLiked=!this.isLiked},setNavbar:function(){document.querySelector(".header-container").classList.add("restAppNavbar")}},computed:{getDateStart:function(){var t=new Date((new Date).getTime()+this.currTrip.date.start),e=t.toDateString(),r=e.split(" "),s=Object(tt["a"])(r,4),i=s[1],n=s[2],a=s[3],o=new Date;return n===o.getDate()+""?"Today !":"".concat(n,"-").concat(i,"-").concat(a)},user:function(){var t=this;return this.users.find((function(e){return e._id===t.currTrip.creatorID}))},checkMemebersCount:function(){return 0===this.currTrip.memebers.length},like:function(){return{like:this.isLiked}},memebers:function(){var t=this;return this.currTrip.memebers.map((function(e){return t.users.find((function(t){return t._id===e._id}))}))}}},rt=et,st=r("adda"),it=r("8270"),nt=Object(d["a"])(rt,X,Z,!1,null,null,null),at=nt.exports;T()(nt,{VCard:D["a"],VCardActions:j["a"],VCardSubtitle:j["b"],VCardText:j["c"],VCardTitle:j["d"],VImg:st["a"],VListItemAvatar:it["a"]});var ot,ct={created:function(){},computed:{tripsToShow:function(){var t=Object.assign([],this.$store.getters.trips);return t},users:function(){return Object.assign([],this.$store.getters.users)}},components:{tripPreview:at}},ut=ct,lt=Object(d["a"])(ut,K,Q,!1,null,null,null),pt=lt.exports,dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"top-rated-container",attrs:{"data-aos":"fade-right","data-aos-duration":"1000","data-aos-easing":"ease-in-out","data-aos-once":"true"},on:{click:function(e){return t.showDetails()}}},[r("div",{staticClass:"top-rated-body flex column center justify-end",style:{backgroundImage:"url("+t.trip.imgUrl[1]+")"}},[r("div",{staticClass:"top-rated-details-box flex column"},[r("span",{staticClass:"top-rated-title"},[t._v(t._s(t.trip.title))]),r("span",[t._v(" "+t._s(t.trip.rating)+" "),r("i",{staticClass:"fas fa-star"})])])])])},ft=[],gt={props:["trip","users"],methods:{showDetails:function(){Ie.push("/trips/details/".concat(this.trip._id)),this.setNavbar()},setNavbar:function(){document.querySelector(".header-container").classList.add("restAppNavbar")}},computed:{user:function(){var t=this;return this.users.find((function(e){return e._id===t.trip.creatorID}))}},componenets:{router:Ie}},mt=gt,ht=Object(d["a"])(mt,dt,ft,!1,null,null,null),vt=ht.exports,Ct={name:"home",data:function(){return{}},created:function(){this.$store.dispatch("loadTrips"),this.$store.dispatch("loadUsers")},mounted:function(){},computed:{users:function(){return Object.assign([],this.$store.getters.users)},trips:function(){return Object.assign([],this.$store.getters.trips)},tripsRecommended:function(){var t=Object.assign([],this.$store.getters.trips);return t.sort((function(t,e){return e.rating-t.rating})),t.slice(0,5)}},components:{TripList:pt,TripRecommended:vt}},_t=Ct,wt=Object(d["a"])(_t,G,H,!1,null,"66a06cd0",null),bt=wt.exports,xt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},yt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about"},[r("h1",[t._v("This is an about page")])])}],Tt={},Ut=Object(d["a"])(Tt,xt,yt,!1,null,null,null),kt=Ut.exports,St=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("div",{staticClass:"details container"},[r("div",{staticClass:"manager-section flex column center"},[r("div",{staticClass:"manager-profile"},[r("img",{attrs:{src:t.tripCreator.imgUrl},on:{click:function(e){return t.showUser(t.tripCreator)}}})]),r("div",{staticClass:"manager-info"},[r("h2",[t._v(t._s(t.tripCreator.firstName)+" "+t._s(t.tripCreator.lastName))]),r("div",{staticClass:"manager-contact"},[t._m(0),t._m(1),r("span",[t._v("("+t._s(t.tripCreator.rating)+")")])])])]),r("div",{staticClass:"trip-section flex column"},[r("div",{staticClass:"trip-section-header flex row center wrap space-between"},[r("h1",[t._v(t._s(t.currTrip.title))]),t.isRoomCreator?r("div",[r("button",{staticClass:"join-btn"},[t._v("Cancel Trip Event")])]):r("div",[t.isUserJoin?r("button",{staticClass:"join-btn",on:{click:function(e){return t.leaveTrip()}}},[t._v("Leave Trip")]):r("button",{staticClass:"join-btn",on:{click:function(e){return t.joinTrip()}}},[t._v("Join Trip")])]),r("div",{staticClass:"trip-section-main flex row center space-between"},[r("p",[t._v(t._s(t.currTrip.desc))])])]),r("div",{staticClass:"flex row center icon-info"},[r("div",{staticClass:"trip-loc-time flex column mb-5"},[r("span",[r("i",{staticClass:"far fa-calendar-alt"}),t._v(" "+t._s(t.getDateStart)+" - "+t._s(t.getDateEnd)+" ")]),r("span",[r("i",{staticClass:"fas fa-map-marked-alt"}),t._v(" "+t._s(t.currTrip.country)+", "+t._s(t.currTrip.section)+" ")])])]),r("div",{staticClass:"trip-intrest flex row center justify-start wrap"},t._l(t.tripTypes,(function(e){return r("span",{key:e,staticClass:"type-label"},[t._v(t._s(t._f("capitalize")(e)))])})),0),r("div",{staticClass:"gallery"},t._l(t.TripImagesToShow,(function(e,s){return r("div",{key:e,class:"img"+(s+1),style:"--num:"+t.restImgs},[r("img",{staticClass:"image",attrs:{src:e}})])})),0)]),r("div",{staticClass:"schedule-loc"},[r("h2",{staticClass:"schedule-title"},[t._v("Trip Schedule:")]),t.isRoomCreator?r("div",{staticClass:"creator-add"},[r("i",{staticClass:"fas fa-plus"}),t._v("Add Another Place To visit : "),r("input",{staticClass:"addStop",attrs:{type:"text",placeholder:"Add Another Stop"}})]):t._e(),r("div",{staticClass:"map-section flex column"},[r("div",{staticClass:"main-box row space-between"},[r("trip-map"),r("trip-chat",{attrs:{trip:t.currTrip}})],1),r("trip-location",{attrs:{trip:t.currTrip}})],1)]),r("div",{staticClass:"social-section"},[r("div",{staticClass:"social-group mt-0"},[r("h1",[t._v("Our Group:")]),r("div",{staticClass:"social-imgs flex row center"},t._l(t.tripMemebers,(function(t){return r("a",{key:t._id,staticClass:"flex column center"},[r("span",{staticClass:"circle"},[r("img",{attrs:{src:t.imgUrl}})])])})),0),r("div",{staticClass:"group-text-box flex column"},[r("span",{staticClass:"group-text"},[r("i",{staticClass:"fas fa-users"}),t._v(" "+t._s(t.tripMemebersNum)+" Of "+t._s(t.currTrip.maxCapacity)+" Are Already Taken! ")]),r("span",{staticClass:"group-text join"},[t._v("Join Us")])]),r("div",{staticClass:"pendings"},[r("h2",{attrs:{"ml-3":""}},[t._v("Trip Pending List:")]),r("div",{staticClass:"badge-box flex row center"},t._l(t.tripPendings,(function(e,s){return r("a",{key:s,staticClass:"flex row center"},[t.isRoomCreator?r("div",{staticClass:"text-center"},[r("v-badge",{attrs:{color:"white"},nativeOn:{click:function(r){return r.stopPropagation(),t.approveMemeber(e)}},scopedSlots:t._u([{key:"badge",fn:function(){return[r("i",{staticClass:"fas fa-check"})]},proxy:!0}],null,!0)},[r("v-badge",{attrs:{color:"white",left:""},nativeOn:{click:function(r){return r.stopPropagation(),t.denyMemeber(e)}},scopedSlots:t._u([{key:"badge",fn:function(){return[r("i",{staticClass:"fas fa-times"})]},proxy:!0}],null,!0)},[r("img",{staticClass:"circle",attrs:{src:e.imgUrl}})])],1)],1):r("div",[r("img",{staticClass:"circle",attrs:{src:e.imgUrl}})])])})),0),t.pendingCount?r("h3",[t._v("No Pending Request yet ... Be The First !")]):t._e()])])])]),t._m(2)])},$t=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",[r("i",{staticClass:"msg far fa-comment-dots"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",[r("i",{staticClass:"heart far fa-heart"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"openChat"},[r("i",{staticClass:"fas fa-comments"})])}],Rt=(r("c740"),r("a434"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"trip-locations"},[r("draggable",{attrs:{"ghost-class":"ghost"},model:{value:t.trip.locations,callback:function(e){t.$set(t.trip,"locations",e)},expression:"trip.locations"}},[r("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.trip.locations,(function(e,s){return r("div",{key:e.placeName,staticClass:"sort-list flex row center space-between"},[r("span",{staticClass:"stop-index "},[t._v(t._s(s+1))]),r("div",{staticClass:"location-box flex row center space-between"},[r("div",{staticClass:"location-info"},[r("div",{staticClass:"location-name"},[t._v(t._s(e.placeName))]),r("div",{staticClass:"location-address"},[t._v(t._s(e.address))])]),r("div",{staticClass:"location-icons"},[r("i",{staticClass:"fas fa-map-pin map-pin"}),r("i",{staticClass:"far fa-heart heart"}),r("i",{staticClass:"fas fa-times remove"})])])])})),0)],1)],1)}),Ot=[],Nt=r("310e"),It=r.n(Nt),Dt={props:["trip"],data:function(){return{}},computed:{changeLocation:function(){return this.trip.locations}},watch:{changeLocation:function(){this.$store.dispatch("updateTrip",this.trip)}},components:{draggable:It.a}},jt=Dt,Lt=Object(d["a"])(jt,Rt,Ot,!1,null,null,null),Mt=Lt.exports,Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"tripChat flex column"},[r("div",{staticClass:"chat-header flex row center space-between"},[r("span",[t._v("Trip Chat "+t._s(t.trip.title))]),r("i",{staticClass:"fas fa-sliders-h"})]),r("div",{staticClass:"chat-body output"},t._l(t.msgs,(function(e,s){return r("li",{key:s,staticClass:"message clean-list",class:t.myMessage(e)},[r("div",{staticClass:"chat-from flex row center justify-start"},[r("img",{staticClass:"chat-img",attrs:{src:e.imgUrl}}),r("span",{staticClass:"chat-name"},[t._v(t._s(t._f("capitalize")(e.from)))])]),r("div",{staticClass:"chat-txt"},[t._v(t._s(e.txt))])])})),0),r("form",{staticClass:"chat-footer flex row center space-between",on:{submit:function(e){return e.preventDefault(),t.sendMsg(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.txt,expression:"txt"}],attrs:{type:"text",placeholder:"Share Your Thought's..."},domProps:{value:t.txt},on:{input:function(e){e.target.composing||(t.txt=e.target.value)}}}),r("button",[t._v("Send")])])])},Et=[],At=r("8055"),Bt=r.n(At),Jt="/",Vt={setup:qt,terminate:Ft,on:Wt,off:Yt,emit:zt};function qt(){ot=Bt()(Jt)}function Ft(){ot=null}function Wt(t,e){ot.on(t,e)}function Yt(t,e){ot.off(t,e)}function zt(t,e){ot.emit(t,e)}var Gt={props:["trip"],data:function(){return{txt:"",msgs:[]}},created:function(){Vt.setup(),Vt.emit("chat topic",this.trip.title),Vt.on("chat addMsg",this.addMsg)},destroyed:function(){Vt.off("chat addMsg",this.addMsg),Vt.terminate()},methods:{sendMsg:function(){if(this.txt){var t={from:this.user.firstName,_id:this.user._id,imgUrl:this.user.imgUrl,txt:this.txt};Vt.emit("chat newMsg",t),this.txt=""}},addMsg:function(t){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(this.msgs.push(t));case 2:e=document.querySelector(".chat-body"),e.scrollTop=e.scrollHeight-e.clientHeight;case 4:case"end":return r.stop()}}),null,this)},myMessage:function(t){return this.user._id===t._id?{"my-message":!0}:{"my-message":!1}}},computed:{user:function(){var t=this.$store.getters.loggedinUser;return t||(t={firstName:"Guest123",_id:"test213",imgUrl:"http://lofrev.net/wp-content/photos/2017/03/user_blue_logo.png"}),t}}},Ht=Gt,Kt=Object(d["a"])(Ht,Pt,Et,!1,null,null,null),Qt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"tripMap"},[r("GmapMap",{ref:"map1",staticClass:"map",attrs:{center:t.center,zoom:8,"map-type-id":"terrain"}},t._l(t.markers,(function(e,s){return r("GmapMarker",{key:s,attrs:{position:e.position,clickable:!0,draggable:!1},on:{click:function(r){t.center=e.position}}})})),1)],1)},Zt=[],te=(r("4160"),r("159b"),r("755e")),ee={setWayPoint:ie,getDirecService:re,getDirecRender:se,getWayPts:ne,getRequest:ae};function re(t){return new t.maps.DirectionsService}function se(t){return new t.maps.DirectionsRenderer({suppressMarkers:!0})}function ie(t,e,r){return{location:new r.maps.LatLng(t,e),stopover:!0}}function ne(t,e){var r=[];return t.forEach((function(s,i){0!==i&&i!==t.length-1&&r.push(ie(s.position.lat,s.position.lng,e))})),r}function ae(t,e,r,s){return{origin:oe(t.position.lat,t.position.lng,s),destination:oe(e.position.lat,e.position.lng,s),waypoints:r,optimizeWaypoints:!0,travelMode:s.maps.TravelMode.WALKING}}function oe(t,e,r){return new r.maps.LatLng(t,e)}var ce={data:function(){return{markers:[],origin:null,destination:null,isDirectionRenderer:!1}},created:function(){this.markers=this.trip.locations.map((function(t){return{position:t.position}})),this.setMapRoute()},methods:{setRouteMarkersProps:function(){var t=this.markers;this.origin=t[0],this.destination=t[t.length-1]},setMapRoute:function(){this.setRouteMarkersProps(),this.setRoutes()},setRoutes:function(){var t,e,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(ee.getDirecService(this.google));case 2:return t=s.sent,s.next=5,regeneratorRuntime.awrap(ee.getDirecRender(this.google));case 5:return e=s.sent,s.next=8,regeneratorRuntime.awrap(e.setMap(this.$refs.map1.$mapObject));case 8:return s.next=10,regeneratorRuntime.awrap(ee.getRequest(this.origin,this.destination,this.setWayPts,this.google));case 10:r=s.sent,t.route(r,(function(t,r){"OK"==r&&e.setDirections(t)}));case 12:case"end":return s.stop()}}),null,this)}},computed:{trip:function(){return this.$store.getters.getCurrTrip},trips:function(){return this.$store.getters.trips},google:function(){return Object(te["gmapApi"])()},setWayPts:function(){return ee.getWayPts(this.markers,this.google)},center:function(){var t,e,r=0,s=0,i=this.markers.length;return this.markers.forEach((function(t){r+=t.position.lng,s+=t.position.lat})),t=r/i,e=s/i,{lng:t,lat:e}}},watch:{trips:function(){this.$store.dispatch("setCurr",this.trip._id)},trip:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.markers=t.locations.map((function(t){return{position:t.position}})),this.setMapRoute();case 2:case"end":return e.stop()}}),null,this)}}},ue=ce,le=(r("50b5"),Object(d["a"])(ue,Xt,Zt,!1,null,"360aed60",null)),pe=le.exports,de={data:function(){return{isUserJoin:!1,currTrip:{}}},methods:{showUser:function(t){Ie.push("/users/details/".concat(t._id))},getDate:function(t){var e=new Date((new Date).getTime()+this.currTrip.date[t]),r=e.toDateString(),s=r.split(" "),i=Object(tt["a"])(s,4),n=i[1],a=i[2],o=i[3];return"".concat(a," ").concat(n," ").concat(o)},removePending:function(t){var e=this.currTrip.pendings.findIndex((function(e){return e._id===t._id}));this.currTrip.pendings.splice(e,1)},findUserTrip:function(t){var e=this;return t.tripsJoin.findIndex((function(t){return t.tripId===e.currTrip._id}))},approveMemeber:function(t){var e=this.users.find((function(e){return e._id===t._id})),r=this.findUserTrip(e);e.tripsJoin[r].isApproved=!0,this.removePending(e),this.currTrip.memebers.push(e),this.$store.dispatch("updateTrip",this.currTrip),this.$store.dispatch("updatePendingUser",e)},denyMemeber:function(t){var e=this.findUserTrip(t);t.tripsJoin.splice(e,1),this.removePending(t),this.$store.dispatch("updateTrip",this.currTrip),this.$store.dispatch("updatePendingUser",t)},leaveTrip:function(){this.isUserJoin=!1,this.$store.dispatch("leaveTrip",this.user)},joinTrip:function(){var t,e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(t=this.$store.getters.loggedinUser,!(t&&this.currTrip.maxCapacity>this.currTrip.memebers.length&&this.currTrip.creatorID!==t._id)){r.next=7;break}return this.user=t,r.next=5,regeneratorRuntime.awrap(this.$store.dispatch("joinTrip",this.user));case 5:e=r.sent,e&&(this.isUserJoin=!0);case 7:case"end":return r.stop()}}),null,this)}},created:function(){var t=this;if(this.$store.dispatch("setCurr",this.$route.params.id),this.users=this.$store.getters.users,this.currTrip=this.$store.getters.getCurrTrip,this.user){var e=this.user.tripsJoin.find((function(e){return e.tripId===t.currTrip._id}));e&&(this.isUserJoin=!0)}},computed:{user:function(){return this.$store.getters.loggedinUser},tripTypes:function(){return this.currTrip.types},tripCreator:function(){var t=this;return this.users.find((function(e){return e._id===t.currTrip.creatorID}))},tripMemebersNum:function(){return this.currTrip.memebers.length},tripMemebers:function(){var t=this,e=this.$store.getters.getCurrTrip.memebers;return e.map((function(e){return t.users.find((function(t){return t._id===e._id}))}))},tripPendings:function(){var t=this,e=this.$store.getters.getCurrTrip.pendings;return e.map((function(e){return t.users.find((function(t){return t._id===e._id}))}))},pendingCount:function(){var t=this.tripPendings;return!t.length||!t.length},isRoomCreator:function(){return!!this.user&&this.user._id===this.currTrip.creatorID},TripImagesToShow:function(){var t=this.currTrip.imgUrl.slice(0,3);return t},restImgs:function(){return this.currTrip.imgUrl.length-3},getDateStart:function(){return this.getDate("start")},getDateEnd:function(){return this.getDate("end")}},watch:{user:function(){var t=this;if(this.user){var e=this.user.tripsJoin.find((function(e){return e.tripId===t.currTrip._id}));e&&(this.isUserJoin=!0)}else this.isUserJoin=!1}},components:{tripLocation:Mt,tripMap:pe,tripChat:Qt}},fe=de,ge=r("4ca6"),me=Object(d["a"])(fe,St,$t,!1,null,null,null),he=me.exports;T()(me,{VBadge:ge["a"]});var ve=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("div",{staticClass:"container user-details"},[r("div",{staticClass:"user-header"},[r("div",{staticClass:"user-section flex column center"}),r("div",{staticClass:"user-profile flex center"},[r("img",{attrs:{src:t.user.imgUrl}})])]),r("div",{staticClass:"user-info"},[r("h2",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))]),t._m(0)]),t._m(1),r("div",{staticClass:"user-trips"},[t._m(2),r("div",{staticClass:"trips-join flex row space-evenly wrap"},t._l(t.tripsJoin,(function(e){return r("div",{key:e._id,on:{click:function(r){return t.showDetails(e._id)}}},[r("v-card",{staticClass:"mx-auto card",attrs:{"max-width":"300"}},[r("v-img",{attrs:{src:e.imgUrl[0],height:"160px"}}),r("v-card-title",{staticClass:"trip-title"},[t._v(t._s(e.title))]),r("v-card-subtitle",{staticClass:"trip-sub"},[t._v(t._s(e.desc))]),r("v-card-actions",[r("v-btn",{attrs:{color:"purple user-trip-details-btn",text:""}},[t._v("Get Updated")]),r("v-spacer"),r("span",{staticClass:"trip-rate"},[t._v(t._s(e.rating))]),r("i",{staticClass:"fas fa-star star"})],1)],1)],1)})),0),t._m(3),r("div",{staticClass:"trips-pending"},t._l(t.tripsPending,(function(e){return r("div",{key:e._id},[r("v-card",{staticClass:"mx-auto card",attrs:{"max-width":"300"}},[r("v-img",{attrs:{src:e.imgUrl[0],height:"160px"}}),r("v-card-title",{staticClass:"trip-title"},[t._v(t._s(e.title))]),r("v-card-subtitle",{staticClass:"trip-sub"},[t._v(t._s(e.desc))]),r("v-card-actions",[r("v-btn",{attrs:{color:"purple user-trip-details-btn",text:""}},[t._v("See Whats New")]),r("v-spacer"),r("span",{staticClass:"trip-rate"},[t._v(t._s(e.rating))]),r("i",{staticClass:"fas fa-star star"})],1)],1)],1)})),0)])])])},Ce=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-contact"},[r("button",[r("i",{staticClass:"far fa-comment-dots"})]),r("button",[r("i",{staticClass:"fab fa-facebook"})])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-trip-section flex column"},[r("div",{staticClass:"user-story"},[r("span",[t._v("My Story :")]),t._v("My wanderlust was confined to the 25-day holiday benefit I got through my office job. But the urgent desire to see the world was stronger than anything else So left my British courtyard behind and entered the travel culture. ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h2",{staticClass:"title-user-trips title"},[r("i",{staticClass:"fas fa-vote-yea"}),t._v(" Trips Join ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h2",{staticClass:"title-user-trips title"},[r("i",{staticClass:"fas fa-question-circle"}),t._v(" Trips Pending ")])}],_e=(r("4de4"),{data:function(){return{users:{},userID:{},trips:null}},created:function(){this.users=this.$store.getters.users,this.trips=this.$store.getters.trips,this.userID=this.$route.params.id},methods:{showDetails:function(t){this.$router.push("/trips/details/".concat(t))}},computed:{user:function(){var t=this;return this.users.find((function(e){return e._id===t.userID}))},tripsJoin:function(){var t=this,e=this.user.tripsJoin.filter((function(t){return t.isApproved}));return e.map((function(e){return t.trips.find((function(t){return t._id===e.tripId}))}))},tripsPending:function(){var t=this,e=this.user.tripsJoin.filter((function(t){return!t.isApproved}));return e.map((function(e){return t.trips.find((function(t){return t._id===e.tripId}))}))}},components:{}}),we=_e,be=Object(d["a"])(we,ve,Ce,!1,null,null,null),xe=be.exports;T()(be,{VBtn:I["a"],VCard:D["a"],VCardActions:j["a"],VCardSubtitle:j["b"],VCardTitle:j["d"],VImg:st["a"],VSpacer:U["a"]});var ye=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"signup-main container flex row"},[r("div",{staticClass:"signup-form"},[r("form",{staticClass:"form-sign flex column space-between center",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.doSignup(e)}}},[r("h1",[t._v("Create An Account")]),t._m(0),r("span",[t._v("or use your email for registration")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signUpCred.firstName,expression:"signUpCred.firstName"}],attrs:{type:"text",placeholder:"First Name",required:""},domProps:{value:t.signUpCred.firstName},on:{input:function(e){e.target.composing||t.$set(t.signUpCred,"firstName",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signUpCred.lastName,expression:"signUpCred.lastName"}],attrs:{type:"text",placeholder:"Last name",required:""},domProps:{value:t.signUpCred.lastName},on:{input:function(e){e.target.composing||t.$set(t.signUpCred,"lastName",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signUpCred.email,expression:"signUpCred.email"}],attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:t.signUpCred.email},on:{input:function(e){e.target.composing||t.$set(t.signUpCred,"email",e.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.signUpCred.password,expression:"signUpCred.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.signUpCred.password},on:{input:function(e){e.target.composing||t.$set(t.signUpCred,"password",e.target.value)}}}),r("span",[t._v("Help Us to Get You Know Better:")]),r("v-select",{staticClass:"select",attrs:{placeholder:"Choose Favorite Trips",items:t.items,chips:"",label:"Trips",multiple:"",outlined:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),r("button",{staticClass:"signup-btn"},[t._v("Sign Up")])],1)]),t._m(1)])},Te=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"social-container"},[r("a",{staticClass:"social",attrs:{href:"#"}},[r("i",{staticClass:"fab fa-facebook-f"})]),r("a",{staticClass:"social",attrs:{href:"#"}},[r("i",{staticClass:"fab fa-google-plus-g"})]),r("a",{staticClass:"social",attrs:{href:"#"}},[r("i",{staticClass:"fab fa-linkedin-in"})])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"signup-side flex column center"},[r("h1",[t._v("Hello Friend")]),r("p",[t._v(" Enter Your Personal Details Meet Pepole Like You And Start A "),r("span",[t._v("Journey With US")])])])}],Ue={data:function(){return{items:["sport","shopping","art","extreme","party","relax","cultural","religon"],value:[],signUpCred:{}}},methods:{doSignup:function(){var t=this.signUpCred;if(!t.email||!t.password||!t.firstName||!t.lastName)return"Missing User Details , Sign up";this.$store.dispatch("signUp",t),this.signUpCred={}}}},ke=Ue,Se=r("b974"),$e=Object(d["a"])(ke,ye,Te,!1,null,null,null),Re=$e.exports;T()($e,{VSelect:Se["a"]}),s["a"].use(z["a"]);var Oe=[{path:"/",name:"home",component:bt},{path:"/about",name:"about",component:kt},{path:"/trips/details/:id?",name:"details",component:he},{path:"/users/details/:id",name:"users",component:xe},{path:"/signup",name:"signup",component:Re}],Ne=new z["a"]({base:"/",routes:Oe,scrollBehavior:function(){return{x:0,y:0}}}),Ie=Ne,De=r("2f62"),je=r("bc3a"),Le=r.n(je),Me="/",Pe=Le.a.create({withCredentials:!0}),Ee={get:function(t,e){return Ae(t,"GET",e)},post:function(t,e){return Ae(t,"POST",e)},put:function(t,e){return Ae(t,"PUT",e)},delete:function(t,e){return Ae(t,"DELETE",e)}};function Ae(t){var e,r,s,i=arguments;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e=i.length>1&&void 0!==i[1]?i[1]:"get",r=i.length>2&&void 0!==i[2]?i[2]:null,n.prev=2,n.next=5,regeneratorRuntime.awrap(Pe({url:"".concat(Me).concat(t),method:e,data:r}));case 5:return s=n.sent,n.abrupt("return",s.data);case 9:n.prev=9,n.t0=n["catch"](2),401===n.t0.response.status&&Ie.push("/");case 12:case"end":return n.stop()}}),null,null,[[2,9]])}var Be={query:Je,getById:Ve,update:qe};function Je(){return Ee.get("api/trip")}function Ve(t){return Ee.get("api/trip/".concat(t))}function qe(t){return Ee.put("api/trip/update",t)}var Fe={getUsers:We,login:Ye,logOut:Ge,signUp:ze,update:He};function We(){return Ee.get("api/user/users")}function Ye(t){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Ee.post("api/auth/login",t));case 2:return e=r.sent,r.abrupt("return",Ke(e));case 4:case"end":return r.stop()}}))}function ze(t){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Ee.post("api/auth/signup",t));case 2:return e=r.sent,r.abrupt("return",Ke(e));case 4:case"end":return r.stop()}}))}function Ge(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Ee.post("api/auth/logout"));case 2:sessionStorage.removeItem("user");case 3:case"end":return t.stop()}}))}function He(t){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Ee.put("api/user/update",t));case 2:return e=r.sent,r.abrupt("return",Ke(e));case 4:case"end":return r.stop()}}))}function Ke(t){return sessionStorage.setItem("user",JSON.stringify(t)),t}var Qe={load:Xe,store:Ze};function Xe(t){var e=sessionStorage.getItem(t),r=JSON.parse(e);return r}function Ze(t,e){var r=JSON.stringify(e);sessionStorage.setItem(t,r)}var tr=null,er=null;sessionStorage.user&&(tr=JSON.parse(sessionStorage.user)),sessionStorage.users&&(er=JSON.parse(sessionStorage.users));var rr={state:{loggedinUser:tr,users:er},getters:{users:function(t){return t.users},loggedinUser:function(t){return t.loggedinUser}},mutations:{setUser:function(t,e){var r=e.user;t.loggedinUser=r},setUsers:function(t,e){var r=e.users;Qe.store("users",r),t.users=r},removeUser:function(t,e){var r=e.userId;t.users=t.users.filter((function(t){return t._id!==r}))},updateUser:function(t,e){var r=e.updatedUser,s=t.users.findIndex((function(t){return t._id===r._id}));t.users.splice(s,1,r)}},actions:{login:function(t,e){var r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Fe.login(e));case 2:return r=s.sent,t.commit({type:"setUser",user:r}),s.abrupt("return",r);case 5:case"end":return s.stop()}}))},signUp:function(t,e){var r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Fe.signUp(e));case 2:return r=s.sent,t.commit({type:"setUser",user:r}),s.abrupt("return",r);case 5:case"end":return s.stop()}}))},logOut:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Fe.logOut());case 2:t.commit({type:"setUser",user:null});case 3:case"end":return e.stop()}}))},loadUsers:function(t){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Fe.getUsers());case 2:return e=r.sent,t.commit({type:"setUsers",users:e}),r.abrupt("return",e);case 5:case"end":return r.stop()}}))},updateUser:function(t,e){var r,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.user,i.next=3,regeneratorRuntime.awrap(Fe.update(r));case 3:s=i.sent,t.commit({type:"setUser",user:s});case 5:case"end":return i.stop()}}))},updatePendingUser:function(t,e){var r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Fe.update(e));case 2:r=s.sent,t.commit({type:"updateUser",updatedUser:r});case 4:case"end":return s.stop()}}))}}},sr=[],ir=[];sessionStorage.trips&&(sr=JSON.parse(sessionStorage.trips)),sessionStorage.currTrip&&(ir=JSON.parse(sessionStorage.currTrip)),s["a"].use(De["a"]);var nr=new De["a"].Store({state:{trips:sr,currTrip:ir},mutations:{initTrips:function(t,e){var r=e.trips;Qe.store("trips",r),t.trips=r},setCurrTripById:function(t,e){t.currTrip=t.trips.find((function(t){return t._id===e.id})),Qe.store("currTrip",t.currTrip)},updateTrip:function(t,e){var r,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.updatedTrip,i.next=3,regeneratorRuntime.awrap(t.trips.findIndex((function(t){return t._id===r._id})));case 3:s=i.sent,t.trips.splice(s,1,r);case 5:case"end":return i.stop()}}))}},getters:{trips:function(t){return t.trips},trip:function(t){return function(e){return t.trips.find((function(t){return t._id===e}))}},getCurrTrip:function(t){return t.currTrip}},actions:{loadTrips:function(t){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Be.query());case 2:return e=r.sent,t.commit({type:"initTrips",trips:e}),r.abrupt("return",e);case 5:case"end":return r.stop()}}))},leaveTrip:function(t,e){var r,s,i,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.getters.getCurrTrip,i=e.tripsJoin.findIndex((function(t){return t.tripId===s._id})),r=e.tripsJoin[i].isApproved?"memebers":"pendings",e.tripsJoin.splice(i,1),a.next=6,regeneratorRuntime.awrap(t.dispatch({type:"updateUser",user:e}));case 6:return n=s[r].findIndex((function(t){return t._id===e._id})),s[r].splice(n,1),a.next=10,regeneratorRuntime.awrap(t.dispatch("updateTrip",s));case 10:case"end":return a.stop()}}))},joinTrip:function(t,e){var r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.getters.getCurrTrip,e.tripsJoin||(e.tripsJoin=[]),e.tripsJoin.push({tripId:r._id,isApproved:!1}),r.pendings.push(e),s.next=6,regeneratorRuntime.awrap(t.dispatch("updateTrip",r));case 6:return s.next=8,regeneratorRuntime.awrap(t.dispatch({type:"updateUser",user:e}));case 8:return s.abrupt("return",r);case 9:case"end":return s.stop()}}))},setCurr:function(t,e){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(t.commit({type:"setCurrTripById",id:e}));case 2:case"end":return r.stop()}}))},updateTrip:function(t,e){var r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Be.update(e));case 2:r=s.sent,t.commit({type:"updateTrip",updatedTrip:r});case 4:case"end":return s.stop()}}))}},modules:{UserStore:rr},components:{userService:Fe}}),ar=r("f309");s["a"].use(ar["a"]);var or=new ar["a"]({});r("90b5"),r("15f5"),r("25f0");s["a"].filter("capitalize",(function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""})),s["a"].filter("snippet",(function(t){return t.slice(0,105)+"... "})),s["a"].filter("snippetTitle",(function(t){return t.slice(0,50)}));var cr=r("f5af"),ur=r.n(cr),lr=(r("e829"),{getGoogle:pr});function pr(){return"AIzaSyBnBXbZgY8chjVxkoQ6CEqiim-mLNmosgI"}s["a"].use(te,{load:{key:lr,libraries:"places"}}),s["a"].config.productionTip=!1,new s["a"]({router:Ie,store:nr,vuetify:or,created:function(){ur.a.init()},render:function(t){return t(W)}}).$mount("#app")},"90b5":function(t,e,r){},fe0e:function(t,e,r){}});
//# sourceMappingURL=app.fbd549bb.js.map